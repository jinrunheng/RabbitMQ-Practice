# RabbitMQ-Practice
RabbitMQ 实战
## 理解消息中间件，为什么要使用消息中间件？
- 异步处理
- 系统解耦
- 流量削峰和控流
## 主流消息中间件怎么选？
- ActiveMQ
- RabbitMQ
- RocketMQ
- Kafka

### ActiveMQ
- 优点
    - 基于 JAVA，跨平台运行
    - 可以用 JDBC 连接多种数据库
    - 有完善的界面，监控，安全机制
    - 自动重连和错误重试
- 缺点
    - 社区活跃度低
    - Apache 目前重心放在了 Apollo，对 ActiveMQ 维护少
    - 不适合上千个队列的应用场景
### RabbitMQ
- 优点
    - 当前最主流的消息中间件，基于 Erlang，支持高并发
    - 高可靠性，支持发送确认，投递确认等特性
    - 高可用性，支持镜像队列
    - 社区活跃度高
- 缺点
    - Erlang 语言较为小众，不利于二次开发
    - 代理架构下，中央节点增加了延迟，影响性能
    - 使用 AMQP 协议，使用起来有一定学习成本
### RocketMQ        
- 优点
    - 基于 Java，方便二次开发
    - 单机支持一万以上的持久化队列
    - 内存与磁盘都有一份数据，保持性能 + 高可用
    - 开发度活跃，版本更新快
- 缺点
    - 客户端种类不多，较成熟的是 Java，C++ 以及 Go
    - 没有 Web 管理界面，提供了一个 CLI
### Kafka
- 优点
    - 原生的分布式系统
    - 零拷贝技术，减少 IO 操作步骤，提高系统吞吐量
    - 快速持久化；可以在 O(1) 的系统开销下进行消息持久化
    - 支持数据批量发送和拉取                
- 缺点
    - 单机超过 64 个队列/分区时，性能明显劣化
    - 使用短轮询方式，实时性取决于轮询间隔时间
    - 消费失败不支持重试
    - 可靠性比较差，Kafka 更适合大数据系统，譬如推荐功能；订单系统则不太合适
## RabbitMQ 为什么性能高？    
        